{
  "version": 2,
  "builds": [
    {
      "src": "api/index.py",
      "use": "@vercel/python",
      "config": {
        "maxLambdaSize": "15mb",
        "runtime": "python3.12",
        "includeFiles": "core/**/*,templates/**/*,static/**/*,staticfiles/**/*"
      }
    }
  ],
  "redirects": [
    {
      "source": "/:path*",
      "has": [
        {
          "type": "query",
          "key": "fbclid"
        }
      ],
      "destination": "/:path*",
      "permanent": false
    }
  ],
  "env": {
    "PYTHONPATH": ".",
    "DJANGO_DEBUG": "False"
  },
  "build": {
    "env": {
      "PYTHONPATH": "."
    }
  },
  "buildCommand": "pip install -r requirements.txt && python manage.py collectstatic --noinput",
  "installCommand": "pip install -r requirements.txt",
  "devCommand": "python manage.py runserver 0.0.0.0:3000"
} 