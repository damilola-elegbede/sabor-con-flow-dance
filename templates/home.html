{% extends 'base.html' %}
{% load static %}
{% load responsive_images %}

{% block title %}Sabor con Flow Dance - Cuban Salsa Classes in Boulder{% endblock %}

{% block meta_description %}Join Boulder's premier Cuban salsa dance studio. Sunday classes 12-3PM. Beginner to advanced levels. Your journey to rhythm starts here!{% endblock %}

{% block meta_keywords %}Cuban salsa Boulder, dance classes Boulder, salsa lessons, casino dance, Sunday dance classes, Avalon Ballroom, dance studio Boulder{% endblock %}

{% block canonical_url %}{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}{% endblock %}

{% block og_title %}Sabor con Flow Dance - Cuban Salsa Classes in Boulder{% endblock %}
{% block og_description %}Join Boulder's premier Cuban salsa dance studio. Sunday classes 12-3PM. Beginner to advanced levels. Your journey to rhythm starts here!{% endblock %}
{% block og_type %}website{% endblock %}

{% block structured_data %}
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "Sabor con Flow Dance - Cuban Salsa Classes in Boulder",
  "description": "Join Boulder's premier Cuban salsa dance studio. Sunday classes 12-3PM. Beginner to advanced levels. Your journey to rhythm starts here!",
  "url": "{{ request.scheme }}://{{ request.get_host }}{% url 'core:home' %}",
  "mainEntity": {
    "@type": "DanceGroup",
    "name": "Sabor Con Flow Dance",
    "description": "Premier Cuban salsa dance studio in Boulder offering Sunday classes for all skill levels",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Avalon Ballroom",
      "addressLocality": "Boulder", 
      "addressRegion": "CO",
      "addressCountry": "US"
    },
    "offers": [
      {
        "@type": "Offer",
        "name": "SCF Choreo Team",
        "description": "Advanced choreography team training session",
        "@id": "#choreo-team"
      },
      {
        "@type": "Offer", 
        "name": "Pasos BÃ¡sicos",
        "description": "Beginner Cuban salsa footwork and basic patterns",
        "@id": "#pasos-basicos"
      },
      {
        "@type": "Offer",
        "name": "Casino Royale", 
        "description": "Intermediate casino dancing building blocks",
        "@id": "#casino-royale"
      }
    ]
  }
}
</script>
{% endblock %}

{% block extra_css %}
<link rel="preload" href="{% static 'css/hero.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{% static 'css/hero.css' %}"></noscript>
<link rel="preload" href="{% static 'css/spotify-playlists.css' %}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{% static 'css/spotify-playlists.css' %}"></noscript>
{% endblock %}

{% block preload %}
<!-- Preload hero video for immediate playback -->
<link rel="preload" href="{% static 'videos/hero-loop.mp4' %}" as="video" type="video/mp4">
<!-- Preload hero images -->
<link rel="preload" href="{% static 'images/sabor-con-flow-logo.webp' %}" as="image" type="image/webp">
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section" id="hero">
    <!-- Video Background -->
    <div class="hero-video-container">
        {% optimized_video 'videos/hero-loop.mp4' 'hero-video' autoplay=True loop=True muted=True controls=False poster='images/sabor-con-flow-logo.webp' %}
        <!-- Semi-transparent overlay -->
        <div class="hero-overlay"></div>
    </div>
    
    <!-- Hero Content -->
    <div class="hero-content">
        <div class="container">
            <div class="hero-text">
                <h1 class="hero-headline">
                    Sabor in every step, flow in every move ðŸ’«
                </h1>
                <p class="hero-subheadline">
                    Discover the rhythm within. Join our passionate community of dancers.
                </p>
                
                <!-- Trust Indicator -->
                <div class="hero-trust">
                    <span class="trust-badge">
                        <i class="fas fa-users"></i>
                        200+ Happy Dancers
                    </span>
                </div>
                
                <!-- CTA Buttons -->
                <div class="hero-cta">
                    <a href="#book" class="btn btn-hero-primary">
                        Book Your Class
                    </a>
                    <a href="#schedule" class="btn btn-hero-secondary">
                        View Schedule
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="hero-scroll-indicator">
        <i class="fas fa-chevron-down"></i>
    </div>
</section>

<!-- Testimonial Carousel -->
{% if carousel_testimonials %}
    {% include 'components/testimonial_carousel.html' %}
{% endif %}

<!-- Social Follow Section -->
{% include 'components/social_follow_section.html' %}

<!-- Spotify Playlists Preview -->
{% if spotify_playlists %}
<section class="home-resources-preview">
    <div class="container">
        <h3><i class="fas fa-music"></i> Dance with the Perfect Soundtrack</h3>
        <p class="section-subtitle">
            Discover our curated Spotify playlists designed for each class type
        </p>
        
        <div class="playlists-grid">
            {% for playlist in spotify_playlists|slice:":3" %}
                {% include 'components/spotify_playlist_card.html' %}
            {% endfor %}
        </div>
        
        <div class="resources-cta">
            <a href="{% url 'core:resources' %}" class="btn">
                <i class="fas fa-headphones"></i>
                Explore All Playlists
            </a>
        </div>
    </div>
</section>
{% endif %}

<!-- Rest of the page content -->
<div class="container" style="padding-top: 3rem;">
    <div class="logo-container">
        {% responsive_image 'images/sabor-con-flow-logo.png' 'Sabor Con Flow Logo' 'main-logo' lazy=False %}
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/spotify-playlists.js' %}" defer></script>
<script>
    // Smooth scroll for hero CTA buttons
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
    
    // Pause video on mobile to save bandwidth (optional)
    const heroVideo = document.querySelector('.hero-video');
    if (heroVideo && window.innerWidth < 768) {
        // Optional: You can choose to pause video on mobile
        // heroVideo.pause();
    }
</script>
{% endblock %}