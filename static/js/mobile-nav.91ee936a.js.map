{"version":3,"file":"mobile-nav.91ee936a.js","mappings":"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","sources":["webpack://sabor-con-flow-dance/./src/js/features/mobile-nav.js"],"sourcesContent":["/**\n * Enhanced Mobile Navigation with Progressive Enhancement\n * Works without JavaScript and enhances with JS features\n */\n\nexport default class MobileNav {\n  constructor(options = {}) {\n    this.options = {\n      toggleSelector: '#navbar-toggle',\n      menuSelector: '#navbar-mobile',\n      overlaySelector: '#mobile-menu-overlay',\n      closeSelector: '#mobile-menu-close',\n      breakpoint: 768,\n      animationDuration: 300,\n      enableSwipeGestures: true,\n      enableKeyboardNavigation: true,\n      ...options,\n    };\n\n    this.isOpen = false;\n    this.lastFocusedElement = null;\n    this.touchStartX = 0;\n    this.touchStartY = 0;\n    this.swipeThreshold = 50;\n\n    this.elements = {};\n    this.init();\n  }\n\n  init() {\n    this.cacheElements();\n\n    if (!this.elements.toggle || !this.elements.menu) {\n      console.warn('Mobile nav: Required elements not found');\n      return;\n    }\n\n    this.setupEventListeners();\n    this.setupAccessibility();\n    this.setupProgressiveEnhancement();\n\n    // Handle initial state\n    this.updateState();\n\n    // Mobile navigation enhanced\n  }\n\n  cacheElements() {\n    this.elements = {\n      toggle: document.querySelector(this.options.toggleSelector),\n      menu: document.querySelector(this.options.menuSelector),\n      overlay: document.querySelector(this.options.overlaySelector),\n      close: document.querySelector(this.options.closeSelector),\n      menuItems: document.querySelectorAll(`${this.options.menuSelector} a`),\n      body: document.body,\n    };\n  }\n\n  setupEventListeners() {\n    // Toggle button\n    if (this.elements.toggle) {\n      this.elements.toggle.addEventListener('click', this.handleToggle.bind(this));\n    }\n\n    // Close button\n    if (this.elements.close) {\n      this.elements.close.addEventListener('click', this.handleClose.bind(this));\n    }\n\n    // Overlay click\n    if (this.elements.overlay) {\n      this.elements.overlay.addEventListener('click', this.handleOverlayClick.bind(this));\n    }\n\n    // Menu item clicks\n    this.elements.menuItems.forEach(item => {\n      item.addEventListener('click', this.handleMenuItemClick.bind(this));\n    });\n\n    // Keyboard navigation\n    if (this.options.enableKeyboardNavigation) {\n      document.addEventListener('keydown', this.handleKeyDown.bind(this));\n    }\n\n    // Window resize\n    let resizeTimer;\n    window.addEventListener('resize', () => {\n      clearTimeout(resizeTimer);\n      resizeTimer = setTimeout(() => {\n        this.handleResize();\n      }, 150);\n    });\n\n    // Swipe gestures on mobile\n    if (this.options.enableSwipeGestures) {\n      this.setupSwipeGestures();\n    }\n\n    // Focus management\n    this.setupFocusManagement();\n  }\n\n  setupSwipeGestures() {\n    if (this.elements.menu) {\n      this.elements.menu.addEventListener('touchstart', this.handleTouchStart.bind(this), {\n        passive: true,\n      });\n      this.elements.menu.addEventListener('touchend', this.handleTouchEnd.bind(this), {\n        passive: true,\n      });\n    }\n\n    // Also allow swiping from edge to open menu\n    document.addEventListener('touchstart', this.handleEdgeSwipeStart.bind(this), {\n      passive: true,\n    });\n    document.addEventListener('touchend', this.handleEdgeSwipeEnd.bind(this), { passive: true });\n  }\n\n  setupAccessibility() {\n    // Ensure proper ARIA attributes\n    if (this.elements.toggle) {\n      this.elements.toggle.setAttribute('aria-expanded', 'false');\n      this.elements.toggle.setAttribute('aria-controls', this.elements.menu.id);\n    }\n\n    if (this.elements.menu) {\n      this.elements.menu.setAttribute('aria-hidden', 'true');\n      this.elements.menu.setAttribute('role', 'dialog');\n      this.elements.menu.setAttribute('aria-modal', 'true');\n    }\n\n    if (this.elements.overlay) {\n      this.elements.overlay.setAttribute('aria-hidden', 'true');\n    }\n  }\n\n  setupFocusManagement() {\n    // Get all focusable elements in menu\n    this.focusableElements = this.elements.menu.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    );\n\n    // Prevent focus entering menu when closed\n    this.elements.menu.addEventListener('focusin', e => {\n      if (!this.isOpen) {\n        e.preventDefault();\n        this.elements.toggle.focus();\n      }\n    });\n  }\n\n  setupProgressiveEnhancement() {\n    // Add enhanced classes for CSS targeting\n    document.documentElement.classList.add('js-mobile-nav');\n\n    // Remove CSS-only fallback styles\n    const style = document.createElement('style');\n    style.textContent = `\n      .js-mobile-nav .mobile-menu-css-fallback {\n        display: none !important;\n      }\n    `;\n    document.head.appendChild(style);\n\n    // Add loading state\n    this.elements.menu.classList.add('mobile-nav-enhanced');\n  }\n\n  handleToggle(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  handleClose(event) {\n    event.preventDefault();\n    this.close();\n  }\n\n  handleOverlayClick(event) {\n    if (event.target === this.elements.overlay) {\n      this.close();\n    }\n  }\n\n  handleMenuItemClick(event) {\n    const link = event.currentTarget;\n    const href = link.getAttribute('href');\n\n    // If it's an anchor link, allow default behavior and close menu\n    if (href && href.startsWith('#')) {\n      setTimeout(() => this.close(), 100);\n    } else {\n      // For regular links, close menu immediately\n      this.close();\n    }\n  }\n\n  handleKeyDown(event) {\n    if (!this.isOpen) return;\n\n    switch (event.key) {\n      case 'Escape':\n        event.preventDefault();\n        this.close();\n        break;\n      case 'Tab':\n        this.handleTabKey(event);\n        break;\n    }\n  }\n\n  handleTabKey(event) {\n    if (this.focusableElements.length === 0) return;\n\n    const firstFocusable = this.focusableElements[0];\n    const lastFocusable = this.focusableElements[this.focusableElements.length - 1];\n\n    if (event.shiftKey) {\n      // Shift + Tab\n      if (document.activeElement === firstFocusable) {\n        event.preventDefault();\n        lastFocusable.focus();\n      }\n    } else {\n      // Tab\n      if (document.activeElement === lastFocusable) {\n        event.preventDefault();\n        firstFocusable.focus();\n      }\n    }\n  }\n\n  handleResize() {\n    // Close menu if window becomes wider than breakpoint\n    if (window.innerWidth >= this.options.breakpoint && this.isOpen) {\n      this.close();\n    }\n  }\n\n  handleTouchStart(event) {\n    this.touchStartX = event.touches[0].clientX;\n    this.touchStartY = event.touches[0].clientY;\n  }\n\n  handleTouchEnd(event) {\n    const touchEndX = event.changedTouches[0].clientX;\n    const touchEndY = event.changedTouches[0].clientY;\n\n    const deltaX = this.touchStartX - touchEndX;\n    const deltaY = Math.abs(this.touchStartY - touchEndY);\n\n    // Only process horizontal swipes (not vertical scrolling)\n    if (deltaY < this.swipeThreshold && Math.abs(deltaX) > this.swipeThreshold) {\n      if (deltaX > 0) {\n        // Swipe left to close menu\n        this.close();\n      }\n    }\n  }\n\n  handleEdgeSwipeStart(event) {\n    // Only process if menu is closed and swipe starts from left edge\n    if (!this.isOpen && event.touches[0].clientX < 20) {\n      this.touchStartX = event.touches[0].clientX;\n      this.touchStartY = event.touches[0].clientY;\n    }\n  }\n\n  handleEdgeSwipeEnd(event) {\n    if (this.isOpen) return;\n\n    const touchEndX = event.changedTouches[0].clientX;\n    const touchEndY = event.changedTouches[0].clientY;\n\n    const deltaX = touchEndX - this.touchStartX;\n    const deltaY = Math.abs(touchEndY - this.touchStartY);\n\n    // Open menu with right swipe from edge\n    if (deltaY < this.swipeThreshold && deltaX > this.swipeThreshold) {\n      this.open();\n    }\n  }\n\n  open() {\n    if (this.isOpen) return;\n\n    this.isOpen = true;\n    this.lastFocusedElement = document.activeElement;\n\n    // Add classes for animation\n    this.elements.body.classList.add('mobile-menu-open');\n    this.elements.menu.classList.add('active');\n\n    if (this.elements.overlay) {\n      this.elements.overlay.classList.add('active');\n    }\n\n    // Update ARIA attributes\n    this.updateARIAAttributes();\n\n    // Prevent body scroll\n    this.preventBodyScroll();\n\n    // Focus management\n    setTimeout(() => {\n      if (this.elements.close) {\n        this.elements.close.focus();\n      } else if (this.focusableElements.length > 0) {\n        this.focusableElements[0].focus();\n      }\n    }, this.options.animationDuration);\n\n    // Announce to screen readers\n    this.announceToScreenReader('Navigation menu opened');\n\n    // Track analytics\n    this.trackEvent('mobile_menu_opened');\n  }\n\n  close() {\n    if (!this.isOpen) return;\n\n    this.isOpen = false;\n\n    // Remove classes\n    this.elements.body.classList.remove('mobile-menu-open');\n    this.elements.menu.classList.remove('active');\n\n    if (this.elements.overlay) {\n      this.elements.overlay.classList.remove('active');\n    }\n\n    // Update ARIA attributes\n    this.updateARIAAttributes();\n\n    // Restore body scroll\n    this.restoreBodyScroll();\n\n    // Restore focus\n    if (this.lastFocusedElement) {\n      this.lastFocusedElement.focus();\n    }\n\n    // Announce to screen readers\n    this.announceToScreenReader('Navigation menu closed');\n\n    // Track analytics\n    this.trackEvent('mobile_menu_closed');\n  }\n\n  updateARIAAttributes() {\n    if (this.elements.toggle) {\n      this.elements.toggle.setAttribute('aria-expanded', this.isOpen.toString());\n    }\n\n    if (this.elements.menu) {\n      this.elements.menu.setAttribute('aria-hidden', (!this.isOpen).toString());\n    }\n\n    if (this.elements.overlay) {\n      this.elements.overlay.setAttribute('aria-hidden', (!this.isOpen).toString());\n    }\n  }\n\n  updateState() {\n    // Set initial state based on current classes (for server-side rendering)\n    this.isOpen = this.elements.menu.classList.contains('active');\n    this.updateARIAAttributes();\n  }\n\n  preventBodyScroll() {\n    const scrollY = window.pageYOffset;\n    this.elements.body.style.position = 'fixed';\n    this.elements.body.style.top = `-${scrollY}px`;\n    this.elements.body.style.width = '100%';\n  }\n\n  restoreBodyScroll() {\n    const scrollY = this.elements.body.style.top;\n    this.elements.body.style.position = '';\n    this.elements.body.style.top = '';\n    this.elements.body.style.width = '';\n    window.scrollTo(0, parseInt(scrollY || '0') * -1);\n  }\n\n  announceToScreenReader(message) {\n    const announcement = document.createElement('div');\n    announcement.setAttribute('aria-live', 'polite');\n    announcement.setAttribute('aria-atomic', 'true');\n    announcement.classList.add('sr-only');\n    announcement.textContent = message;\n\n    document.body.appendChild(announcement);\n\n    setTimeout(() => {\n      document.body.removeChild(announcement);\n    }, 1000);\n  }\n\n  trackEvent(action) {\n    if (window.gtag) {\n      window.gtag('event', action, {\n        event_category: 'navigation',\n        event_label: 'mobile_menu',\n      });\n    }\n  }\n\n  // Public API\n  toggle() {\n    if (this.isOpen) {\n      this.close();\n    } else {\n      this.open();\n    }\n  }\n\n  isMenuOpen() {\n    return this.isOpen;\n  }\n\n  destroy() {\n    // Remove event listeners and cleanup\n    this.elements.toggle?.removeEventListener('click', this.handleToggle);\n    this.elements.close?.removeEventListener('click', this.handleClose);\n    this.elements.overlay?.removeEventListener('click', this.handleOverlayClick);\n\n    this.elements.menuItems.forEach(item => {\n      item.removeEventListener('click', this.handleMenuItemClick);\n    });\n\n    document.removeEventListener('keydown', this.handleKeyDown);\n\n    // Remove enhanced classes\n    document.documentElement.classList.remove('js-mobile-nav');\n    this.elements.menu.classList.remove('mobile-nav-enhanced');\n  }\n\n  // Static factory method\n  static init(options = {}) {\n    return new MobileNav(options);\n  }\n}\n\n// Auto-initialize if not using module system\nif (typeof window !== 'undefined' && !window.moduleSystem) {\n  document.addEventListener('DOMContentLoaded', () => {\n    MobileNav.init();\n  });\n}\n"],"names":["MobileNav","constructor","options","this","toggleSelector","menuSelector","overlaySelector","closeSelector","breakpoint","animationDuration","enableSwipeGestures","enableKeyboardNavigation","isOpen","lastFocusedElement","touchStartX","touchStartY","swipeThreshold","elements","init","cacheElements","toggle","menu","setupEventListeners","setupAccessibility","setupProgressiveEnhancement","updateState","document","querySelector","overlay","close","menuItems","querySelectorAll","body","resizeTimer","addEventListener","handleToggle","bind","handleClose","handleOverlayClick","forEach","item","handleMenuItemClick","handleKeyDown","window","clearTimeout","setTimeout","handleResize","setupSwipeGestures","setupFocusManagement","handleTouchStart","passive","handleTouchEnd","handleEdgeSwipeStart","handleEdgeSwipeEnd","setAttribute","id","focusableElements","e","preventDefault","focus","documentElement","classList","add","style","createElement","textContent","head","appendChild","event","stopPropagation","open","target","href","currentTarget","getAttribute","startsWith","key","handleTabKey","length","firstFocusable","lastFocusable","shiftKey","activeElement","innerWidth","touches","clientX","clientY","touchEndX","changedTouches","touchEndY","deltaX","Math","abs","updateARIAAttributes","preventBodyScroll","announceToScreenReader","trackEvent","remove","restoreBodyScroll","toString","contains","scrollY","pageYOffset","position","top","width","scrollTo","parseInt","message","announcement","removeChild","action","gtag","event_category","event_label","isMenuOpen","destroy","removeEventListener","moduleSystem"],"sourceRoot":""}