<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Testimonial Form Test</title>
    <!-- Font Awesome for star icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h1>Testimonial Form Test Page</h1>
        <p>This is a test page to verify the star rating system works correctly.</p>
        
        <form id="testimonial-form" class="mt-4">
            <div class="mb-3">
                <label for="student_name" class="form-label">Your Name</label>
                <input type="text" class="form-control" id="student_name" name="student_name" required>
            </div>
            
            <div class="mb-3">
                <label class="form-label">Rating</label>
                <div class="star-rating-container">
                    <input type="hidden" name="rating" value="">
                    <button type="button" class="star btn btn-link p-0 me-1" tabindex="0">
                        <i class="far fa-star fa-2x"></i>
                    </button>
                    <button type="button" class="star btn btn-link p-0 me-1" tabindex="-1">
                        <i class="far fa-star fa-2x"></i>
                    </button>
                    <button type="button" class="star btn btn-link p-0 me-1" tabindex="-1">
                        <i class="far fa-star fa-2x"></i>
                    </button>
                    <button type="button" class="star btn btn-link p-0 me-1" tabindex="-1">
                        <i class="far fa-star fa-2x"></i>
                    </button>
                    <button type="button" class="star btn btn-link p-0 me-1" tabindex="-1">
                        <i class="far fa-star fa-2x"></i>
                    </button>
                    <span class="rating-feedback ms-2"></span>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="content" class="form-label">Your Review</label>
                <textarea class="form-control" id="content" name="content" rows="4" required></textarea>
            </div>
            
            <button type="submit" class="btn btn-primary">Submit Testimonial</button>
        </form>
        
        <div class="mt-5">
            <h2>Keyboard Navigation Instructions</h2>
            <ul>
                <li><kbd>Tab</kbd> - Navigate to the rating widget</li>
                <li><kbd>←</kbd> <kbd>→</kbd> - Navigate between stars</li>
                <li><kbd>↑</kbd> <kbd>↓</kbd> - Increase/decrease rating</li>
                <li><kbd>Home</kbd> - Select 1 star</li>
                <li><kbd>End</kbd> - Select 5 stars</li>
                <li><kbd>Space</kbd> or <kbd>Enter</kbd> - Select current star</li>
            </ul>
        </div>
        
        <div class="mt-4 alert alert-info">
            <h3>Testing Features:</h3>
            <ul>
                <li>Hover over stars to see preview (gold hover color)</li>
                <li>Click to select rating (gold #C7B375 for selected)</li>
                <li>Use keyboard navigation with arrow keys</li>
                <li>Submit form without rating to see validation error</li>
                <li>Check screen reader announcements (if using screen reader)</li>
                <li>Test on mobile device for touch optimization</li>
            </ul>
        </div>
    </div>
    
    <!-- Load the testimonial form JavaScript -->
    <script src="/static/js/testimonial-form.js"></script>
    
    <script>
    // Additional test logging
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('testimonial-form');
        const ratingInput = form.querySelector('input[name="rating"]');
        
        // Log rating changes
        ratingInput.addEventListener('change', function() {
            console.log('Rating changed to:', this.value);
        });
        
        // Log form submission
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            const formData = new FormData(this);
            console.log('Form submitted with data:');
            for (let [key, value] of formData.entries()) {
                console.log(`  ${key}: ${value}`);
            }
            alert('Form submitted successfully! Check console for details.');
        });
    });
    </script>
</body>
</html>